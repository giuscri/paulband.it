<!-- vim: set sw=2 ts=2: -->
<!doctype html>
<html>
<head>
  <meta http-equiv="charset" value="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
  html {
    background: #2F4F4F;
    color: #FFF;
    font-family: monospace;
  }
  div.frontpage {
    margin-left: auto;
    margin-right: auto;
    width: 90%;
    padding: 1em;
  }
  div.frontpage > h1 {
    margin-left: auto;
    margin-right: auto;
    width: 70%;
    text-align: center;
  }
  div.frontpage p.licensenote {
    padding: 1em;
  }
  /*div.songswrapper {*/
  div.centralwrapper {
    margin-left: auto;
    margin-right: auto;
    width: 70%;
    text-align: center;
    font-size: 3em;
    padding: 0.314em;
    background: #244;
  }
  @media screen and (max-width: 300px) {
    div.centralwrapper {
      font-size: 1em;
    }
  }
  div.song {
    text-align: center;
  }
  div.song a {
    text-decoration: none;
    color: #FFF;
  }
  div.song > div.progressbar {
    height: 0.1em;
    width: 0%;
    background: #FFF;
  }
  div.footer {
    text-align: center;
  }
  div.footer span.bitcoinaddress {
    display: block;
  }
  @media screen and (max-width: 300px) {
    div.footer span.bitcoinaddress {
      font-size: 0.5em;
    }
  }
  div.footer a {
    text-decoration: none;
    color: #FFF;
  }
  </style>
</head>
<body>
  <div class="frontpage">
    <h1>Paul Bandit</h1>
    <p class="licensenote">
      All of the following songs are Creative Commons licensed (see below).
      Moreover, following a trend that we hope to become more standard,
      all of the songs are hashed and embedded into the Bitcoin
      blockchain, such to timestamping them and preventing the
      steal of intellectual property.
    </p>
    <div class="centralwrapper">
      <div class="songswrapper">
        <div class="song" playing="false"><a href="#/booster.mp3">Booster</a><div class="progressbar"></div></div>
        <div class="song" playing="false"><a href="#/milf.mp3">Milf</a><div class="progressbar"></div></div>
        <div class="song" playing="false"><a href="#/sequel.mp3">Sequel</a><div class="progressbar"></div></div>
        <div class="song" playing="false"><a href="#/eandiamoarimini.mp3">.....e andiamo a Rimini</a><div class="progressbar"></div></div>
      </div>
      <div class="playerwrapper">
        <audio src="">Update your browser, bro'.</audio>
      </div>
    </div>
    <div class="footer">
      <p>
        Donate bitcoins to
        <span class="bitcoinaddress"><strong>1LmYKskwDZudJS79L3p92s2An5dCddANgp</strong></span>
        and help Paul Bandit to get freaking rich.
      </p>
      <a href="http://creativecommons.org/licenses/by-nc/4.0/"><img src="static/creativecommonslogo.png" alt="Read the Creative Commons license" height="18px"></img></a>
    </div>
  </div>
  <script type="text/javascript">
  window.onload = function () {
      "use strict";
      var songs = document.querySelectorAll("div.song");
      for (var i = 0; i < songs.length; i++) {
          var song = songs[i];
          song.addEventListener("click", function (e) {
              var player = document.querySelector("div.playerwrapper audio");
              if (this.getAttribute("playing") == "true") {
                  player.pause();
                  player.src = "";
                  var progressbar = this.children[1].style.width = "0%";
                  this.setAttribute("playing", "false");
              }
              else {
                  var songplaying = document.querySelector("div.song[playing='true']");
                  if (songplaying) {
                      songplaying.children[1].style.width = "0%";
                      songplaying.setAttribute("playing", false);
                  }
                  this.name = decodeURI(this.children[0].hash.slice(2));
                  var player = document.querySelector("div.playerwrapper audio");
                  player.src = "static/" + this.name;
                  player.play();
                  this.setAttribute("playing", "true");
              }
          });
      }
      setInterval(function () {
          var player = document.querySelector("div.playerwrapper audio");
          var progress = player.currentTime / player.duration * 100;
          var songplaying = document.querySelector("div.song[playing='true']");
          if (songplaying) {
              var progressbar = songplaying.children[1];
              if (player.ended) {
                  progressbar.style.width = "0%";
                  songplaying.setAttribute("playing", "false");
              }
              else {
                  progressbar.style.width = progress + "%";
              }
          }
      }, 1000);
  };
  </script>
</body>
<!--
  Yes. We are hackerz. If you think I'm a shitty web developer, yes.
  You're right. Instead of complaining, send me a pull request!
    
      git@github.com:giuscri/paulband.it.git

  Thank you brother. :)
-->
</html>
