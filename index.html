<!doctype html>
<html>
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Paul Bandit</title>
  <link rel="stylesheet" type="text/css" href="bower_components/normalize.css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="bower_components/octicons/octicons/octicons.css" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <script type="text/javascript" src="bower_components/handlebars/handlebars.js"></script>
  <script type="text/javascript" src="bower_components/angular/angular.js"></script>
</head>
<body ng-app="app">
  <audio>
    <div class="errorlog">
      <p>
        <span class="warningcharacter">!</span>, seems like your machine
        is not hipster enough to support the player this page would like to use.
      </p>
      <p>
        Meh. Go home and use your brand new computer or trust us: this music is awesome!,
        you don't even need to listen, bro'.
      </p>
    </div>
  </audio>
  <div class="frontpage">
    <div class="title">
      <span>Paul Bandit</span>
    </div>
    <div class="licensenote">
      <p>
        All of the following songs are Creative Commons licensed (see below).
        Moreover, following a trend that we hope to become more standard,
        all of the songs are hashed and embedded into the Bitcoin
        blockchain, such to timestamp them, preventing the
        steal of intellectual property.
      </p>
    </div>
    <div class="songsbox" ng-controller="songsboxCtrl">
      <div class="song" isplaying="false" ng-repeat="song in songs" ng-click="shakeSong($event)">
        <a href="#/{{song.filename}}">
          {{song.name}}
        </a>
        <div class="progressbar"></div>
      </div>
    </div>
    <div class="footer">
      <div class="referencetolicensetext">
        <a href="http://creativecommons.org/licenses/by-nc/4.0/legalcode">
          <span>Read the Creative Commons license</span>
        </a>
      </div>
      <div class="supportinfo">
        <p>
          If you love the songs&nbsp;-&nbsp;course you do&nbsp;-&nbsp;consider to support this amazing artist
          both by sharing his music and financially. How? ...we're still thinking about the easiest form of
          payment, so keep your wallet heavy up to that moment. Meanwhile, spread the world about
          this simple page (which we're going to use as a hub for the innumerous identities this artist has on the *net)
          and help Paul Bandit to get a critical mass of <del>fanz</del> suppporters.
        </p>
      </div>
      <div class="credits">
        <span><q>Less is more.</q>, 2015</span>
      </div>
  </div>
  <script type="text/javascript">
  "use strict";
  var app = angular.module("app", []);
  app.controller('songsboxCtrl', ['$scope', '$http', '$interval', function ($scope, $http, $interval) {
      $scope.songs = [{name: "...", filename: ""}];
      $http({
          url: "/static/songs.json",
          method: "GET"
      }).success(function (data, status, headers, config) {
            $scope.songs = data.songs;
            $scope.songs.forEach(function (song) {
                song.isPlaying = false;
            });
      });
      $scope.player = document.querySelector("audio");
      $scope.startPlayer = function (filename) {
          $scope.player.src = ["/static", filename].join("/");
          $scope.player.play();
          $scope.songs.forEach(function (song) {
              if (filename === song.filename) {
                  song.isPlaying = true;
              }
          });
      };
      $scope.stopPlayer = function () {
          $scope.player.src = "";
          $scope.player.pause();
          var filename = $scope.player.src.split('/')[2];
          $scope.songs.forEach(function (song) {
              if (song.filename === filename) {
                  song.isPlaying = false;
              }
          });
      };
      $scope.shakeSong = function ($event) {
          var filename = $event.srcElement.hash.split("#")[1].slice(1);
          $scope.songs.forEach(function (song) {
              if (song.filename === filename) {
                  song.isPlaying ? $scope.stopPlayer() : $scope.startPlayer(song.filename);
              }
          });
      };
  }]);
  </script>
  <script>
  // Google Analytics stuff... Forgive me!!
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-58169677-2', 'auto');
  ga('send', 'pageview');
  </script>
</body>
<!--
  Yes. We are hackerz. If you think I'm a shitty web developer, yes.
  You're right. Instead of complaining, send me a pull request!
    
      git@github.com:giuscri/paulband.it.git

  Thank you brother. :)

  Soundtrack used to hack on this simple project:
  
    + http://youtu.be/Qt97R7rISus
-->
</html>
<!-- vim: set et sw=2 ts=2: -->
